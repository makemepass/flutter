import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(home: HomeScreen());
  }
}

class HomeScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Animated Button")),
      body: Center(
        child: AnimatedIconButton(
          icon: Icons.thumb_up,
          text: 'Like',
          onPressed: () => print("Button Pressed!"),
        ),
      ),
    );
  }
}

class AnimatedIconButton extends StatefulWidget {
  final IconData icon;
  final String text;
  final VoidCallback onPressed;

  AnimatedIconButton({required this.icon, required this.text, required this.onPressed});

  @override
  State<AnimatedIconButton> createState() => _AnimatedIconButtonState();
}

class _AnimatedIconButtonState extends State<AnimatedIconButton> {
  bool pressed = false;

  void toggle() {
    setState(() => pressed = !pressed);
    widget.onPressed();
  }

  @override
  Widget build(BuildContext context) {
    return AnimatedContainer(
      duration: Duration(milliseconds: 300),
      width: pressed ? 200 : 150,
      height: pressed ? 90 : 70,
      child: ElevatedButton.icon(
        onPressed: toggle,
        icon: Icon(widget.icon),
        label: Text(widget.text),
      ),
    );
  }
}
